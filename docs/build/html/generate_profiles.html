<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Generate Weighted Majority Graphs" href="generate_weighted_majority_graphs.html" /><link rel="prev" title="(Weighted) Majority Graphs" href="margin_graphs.html" />

    <meta name="generator" content="sphinx-4.2.0, furo 2022.06.21"/>
        <title>Generate Profiles - Preferential Voting Tools</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Preferential Voting Tools</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Preferential Voting Tools</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Elections</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="edata_overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiles.html">Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiles_with_ties.html">Profiles with Ties</a></li>
<li class="toctree-l1"><a class="reference internal" href="margin_graphs.html">(Weighted) Majority Graphs</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Generate Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="generate_weighted_majority_graphs.html">Generate Weighted Majority Graphs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Voting Methods</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="vms_overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="scoring_methods.html">Positional Scoring Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="iterative_methods.html">Iterative Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="c1_methods.html">C1 Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="margin_based_methods.html">Margin Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="combined_methods.html">Combined Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_methods.html">Other Methods</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="tex2jax_ignore mathjax_ignore section" id="generate-profiles">
<h1>Generate Profiles<a class="headerlink" href="#generate-profiles" title="Permalink to this headline">#</a></h1>
<p>We have included  the following probability models:</p>
<ol class="arabic simple">
<li><p>IC:  Impartial Culture Model - generate a profile by sampling  from a uniform distribution over profiles with <span class="math notranslate nohighlight">\(n\)</span> candidates and <span class="math notranslate nohighlight">\(m\)</span> voters.   This is the default probaiblity that used to generate a profile.</p></li>
<li><p>URN: Urn model -  In the Polya-Eggenberger urn model, to generate a profile given a parameter <span class="math notranslate nohighlight">\(\alpha\in [0,\infty)\)</span>, each voter in turn randomly draws a linear order from an urn. Initially the urn is the set of all linear orders on the <span class="math notranslate nohighlight">\(n\)</span> candidates. If a voter randomly chooses <span class="math notranslate nohighlight">\(L\)</span> from the urn, we return <span class="math notranslate nohighlight">\(L\)</span> to the urn plus <span class="math notranslate nohighlight">\(\alpha n!\)</span> copies of <span class="math notranslate nohighlight">\(L\)</span>. IC is the special case where <span class="math notranslate nohighlight">\(\alpha=0\)</span>. The Impartial Anonymous Culture (IAC) is the special case where <span class="math notranslate nohighlight">\(\alpha=1/n!\)</span>.</p>
<ul class="simple">
<li><p>URN-<span class="math notranslate nohighlight">\(\alpha\)</span> is the URN model with parameter <span class="math notranslate nohighlight">\(\alpha\)</span>.</p></li>
<li><p>URN-R is the random URN model, where, following Boehmer et al. (2021), for each generated profile, we chose <span class="math notranslate nohighlight">\(\alpha\)</span> according to a Gamma distribution with shape parameter <span class="math notranslate nohighlight">\(k=0.8\)</span> and scale parameter <span class="math notranslate nohighlight">\(\theta=1\)</span> for the model we call URN.</p></li>
</ul>
</li>
<li><p>MALLOWS, MALLOWS-RELPHI, MALLOWS_2REFS: In the Mallow’s model, to generate a profile, the main idea is to fix a reference  linear ordering of the candidates and to assign to each voter a ranking that is “close” to this reference ranking.   Closeness to the reference ranking is defined using the Kendall-tau distance between rankings, depending on a  <em>dispersion</em> parameter <span class="math notranslate nohighlight">\(\phi\)</span>.   Setting <span class="math notranslate nohighlight">\(\phi= 0\)</span> means that every voter is assigned the reference ranking, and setting <span class="math notranslate nohighlight">\(\phi=1\)</span> is equivalent to the IC model. Formally, to generate a profile given a reference ranking <span class="math notranslate nohighlight">\(L_0\in\mathcal{L}(X)\)</span> and <span class="math notranslate nohighlight">\(\phi\in (0,1]\)</span>, the probability that a voter’s ballot is <span class="math notranslate nohighlight">\(L\in\mathcal{L}(X)\)</span> is <span class="math notranslate nohighlight">\(Pr_{L_0,\phi}(L)=\phi^{\tau(L,L_0)}/C\)</span> where <span class="math notranslate nohighlight">\(\tau(L,L_0)= {{|X|}\choose{2}} - |L\cap L_0|\)</span>, the Kendell-tau distance of <span class="math notranslate nohighlight">\(L\)</span> to <span class="math notranslate nohighlight">\(L_0\)</span>, and <span class="math notranslate nohighlight">\(C\)</span> is a normalization constant. In addition to generating profiles using a single reference ranking <span class="math notranslate nohighlight">\(L_0\)</span>, we considered generating profiles using two references rankings, which are the reverse of each other (called the MALLOWS_2REF model). E.g., <span class="math notranslate nohighlight">\(L_0\)</span> ranks candidates from more liberal to more conservative, while <span class="math notranslate nohighlight">\(L_0^{-1}\)</span> ranks candidates in the opposite order. The set of voters is divided into two groups, each associated with one of the reference rankings. Each voter is equally likely to be assigned to either of the two groups. Formally, the probability that a voter’s ballot is <span class="math notranslate nohighlight">\(L\)</span> is <span class="math notranslate nohighlight">\(\frac{1}{2} Pr_{L_0,\phi}(L)+\frac{1}{2}Pr_{L_0^{-1},\phi}(L)\)</span>.</p>
<ul class="simple">
<li><p>MALLOWS-<span class="math notranslate nohighlight">\(\phi\)</span> is the MALLOWS model with parameter <span class="math notranslate nohighlight">\(\phi\)</span></p></li>
<li><p>MALLOWS-RELPHI-<span class="math notranslate nohighlight">\(\phi\)</span> is the MALLOWS model with a parameter that Boehmer et al. (2021) call rel-<span class="math notranslate nohighlight">\(\phi\)</span>, which together with the number of candidates determines the <span class="math notranslate nohighlight">\(\phi\)</span> value.</p></li>
<li><p>MALLOWS-R is the MALLOWS model where <span class="math notranslate nohighlight">\(\phi\)</span> is chosen uniformly from the interval <span class="math notranslate nohighlight">\((0,1)\)</span> for each profile.</p></li>
<li><p>MALLOWS_2REF-<span class="math notranslate nohighlight">\(\phi\)</span> is the MALLOWS_2REF model with parameter <span class="math notranslate nohighlight">\(\phi\)</span></p></li>
<li><p>MALLOWS_2REF-RELPHI-<span class="math notranslate nohighlight">\(\phi\)</span> is the MALLOWS_2REF model with a parameter that Boehmer et al. (2021) call rel-<span class="math notranslate nohighlight">\(\phi\)</span>, which together with the number of candidates determines the <span class="math notranslate nohighlight">\(\phi\)</span> value.</p></li>
<li><p>MALLOWS_2REF-R is the MALLOWS_2REF model where <span class="math notranslate nohighlight">\(\phi\)</span> is chosen uniformly from the interval <span class="math notranslate nohighlight">\((0,1)\)</span> for each profile.</p></li>
</ul>
</li>
<li><p>SinglePeaked - a profile <span class="math notranslate nohighlight">\(\mathbf{P}\)</span> is <em>single peaked</em> if there exists a strict linear order <span class="math notranslate nohighlight">\(&lt;\)</span> of <span class="math notranslate nohighlight">\(X(\mathbf{P})\)</span> such that for every <span class="math notranslate nohighlight">\(i\in V(\mathbf{P})\)</span> and <span class="math notranslate nohighlight">\(x,y\in X(\mathbf{P})\)</span>, <span class="math notranslate nohighlight">\(x&lt;y &lt; max(\mathbf{P}_i)\)</span> implies  <span class="math notranslate nohighlight">\(y\mathbf{P}_ix\)</span>, and <span class="math notranslate nohighlight">\(max(\mathbf{P}_i)&lt; x&lt;y\)</span> implies <span class="math notranslate nohighlight">\(x\mathbf{P}_iy\)</span>. The probability model we call <em>single peaked</em> assigns zero probability to any profile that is not single peaked and equal probability to any two single-peaked profiles.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pref_voting.generate_profiles</span> <span class="kn">import</span> <span class="n">generate_profile</span> <span class="c1"># function to generate a profile</span>

<span class="c1"># dictionary where keys are the names of the probability models and</span>
<span class="c1"># values is a dictionary with two keys: &quot;func&quot; giving the function to generate a profile</span>
<span class="c1"># and &quot;param&quot; giving the default parameter for the profile</span>

<span class="kn">from</span> <span class="nn">pref_voting.generate_profiles</span> <span class="kn">import</span> <span class="n">prob_models</span>

<span class="n">num_cands</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">num_voters</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">prob_models</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Profile generated using the </span><span class="si">{</span><span class="n">pm</span><span class="si">}</span><span class="s2"> probability model&quot;</span><span class="p">)</span>
    <span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="n">num_cands</span><span class="p">,</span> <span class="n">num_voters</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="n">pm</span><span class="p">)</span>
    <span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Profile generated using the IC probability model
+---+---+---+---+
| 1 | 1 | 2 | 1 |
+---+---+---+---+
| 2 | 2 | 1 | 1 |
| 1 | 0 | 0 | 2 |
| 0 | 1 | 2 | 0 |
+---+---+---+---+


Profile generated using the IAC probability model
+---+---+
| 4 | 1 |
+---+---+
| 2 | 1 |
| 0 | 0 |
| 1 | 2 |
+---+---+


Profile generated using the MALLOWS-0.8 probability model
+---+---+---+
| 1 | 2 | 2 |
+---+---+---+
| 1 | 2 | 0 |
| 0 | 0 | 2 |
| 2 | 1 | 1 |
+---+---+---+


Profile generated using the MALLOWS-0.2 probability model
+---+
| 5 |
+---+
| 2 |
| 1 |
| 0 |
+---+


Profile generated using the MALLOWS-R probability model
+---+---+
| 2 | 3 |
+---+---+
| 1 | 0 |
| 0 | 2 |
| 2 | 1 |
+---+---+


Profile generated using the MALLOWS-RELPHI-0.4 probability model
+---+---+
| 2 | 3 |
+---+---+
| 2 | 0 |
| 1 | 2 |
| 0 | 1 |
+---+---+


Profile generated using the MALLOWS-RELPHI-0.375 probability model
+---+---+
| 4 | 1 |
+---+---+
| 0 | 0 |
| 1 | 2 |
| 2 | 1 |
+---+---+


Profile generated using the MALLOWS-RELPHI-0 probability model
+---+
| 5 |
+---+
| 2 |
| 0 |
| 1 |
+---+


Profile generated using the MALLOWS-RELPHI-1 probability model
+---+---+---+---+
| 2 | 1 | 1 | 1 |
+---+---+---+---+
| 2 | 1 | 2 | 1 |
| 0 | 2 | 1 | 0 |
| 1 | 0 | 0 | 2 |
+---+---+---+---+


Profile generated using the MALLOWS-RELPHI-R probability model
+---+---+---+
| 3 | 1 | 1 |
+---+---+---+
| 2 | 1 | 2 |
| 0 | 2 | 1 |
| 1 | 0 | 0 |
+---+---+---+


Profile generated using the MALLOWS-RELPHI-R2 probability model
+---+
| 5 |
+---+
| 2 |
| 0 |
| 1 |
+---+


Profile generated using the MALLOWS_2REF-0.8 probability model
+---+---+---+
| 3 | 1 | 1 |
+---+---+---+
| 0 | 0 | 2 |
| 2 | 1 | 0 |
| 1 | 2 | 1 |
+---+---+---+


Profile generated using the MALLOWS_2REF-RELPHI-R probability model
+---+---+---+---+
| 1 | 2 | 1 | 1 |
+---+---+---+---+
| 1 | 1 | 2 | 0 |
| 2 | 0 | 1 | 2 |
| 0 | 2 | 0 | 1 |
+---+---+---+---+


Profile generated using the MALLOWS_2REF-RELPHI-R2 probability model
+---+---+---+---+---+
| 1 | 1 | 1 | 1 | 1 |
+---+---+---+---+---+
| 0 | 2 | 1 | 2 | 0 |
| 1 | 0 | 0 | 1 | 2 |
| 2 | 1 | 2 | 0 | 1 |
+---+---+---+---+---+


Profile generated using the URN-10 probability model
+---+---+
| 4 | 1 |
+---+---+
| 1 | 1 |
| 0 | 2 |
| 2 | 0 |
+---+---+


Profile generated using the URN-0.1 probability model
+---+---+---+
| 1 | 3 | 1 |
+---+---+---+
| 0 | 0 | 1 |
| 1 | 2 | 2 |
| 2 | 1 | 0 |
+---+---+---+


Profile generated using the URN-0.3 probability model
+---+---+---+
| 2 | 1 | 2 |
+---+---+---+
| 2 | 1 | 1 |
| 1 | 0 | 2 |
| 0 | 2 | 0 |
+---+---+---+


Profile generated using the URN-R probability model
+---+---+---+
| 2 | 1 | 2 |
+---+---+---+
| 2 | 1 | 1 |
| 0 | 2 | 0 |
| 1 | 0 | 2 |
+---+---+---+


Profile generated using the SinglePeaked probability model
+---+---+---+
| 1 | 3 | 1 |
+---+---+---+
| 0 | 2 | 1 |
| 1 | 1 | 0 |
| 2 | 0 | 2 |
+---+---+---+
</pre></div>
</div>
<div class="section" id="generate-a-profile">
<h2>Generate a Profile<a class="headerlink" href="#generate-a-profile" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pref_voting.generate_profiles.generate_profile">
<span class="sig-prename descclassname"><span class="pre">pref_voting.generate_profiles.</span></span><span class="sig-name descname"><span class="pre">generate_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_cands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_voters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probmod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probmod_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pref_voting/generate_profiles.html#generate_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pref_voting.generate_profiles.generate_profile" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a <code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code> with <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> candidates and <code class="docutils literal notranslate"><span class="pre">num_voters</span></code> voters using the  probabilistic model <code class="docutils literal notranslate"><span class="pre">probmod</span></code> (with parameter <code class="docutils literal notranslate"><span class="pre">probmod_param</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_cands</strong> (<em>int</em>) – the number of candidates in the profile</p></li>
<li><p><strong>num_voters</strong> (<em>int</em>) – the number of voters in the profile</p></li>
<li><p><strong>probmod</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default &quot;IC&quot;</em><em>)</em>) – the probability model used to generate the <code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></p></li>
<li><p><strong>probmod_param</strong> (<em>number</em><em> or </em><em>function</em><em>, </em><em>optional</em>) – a parameter to the probability model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A profile of strict linear orders</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="profiles.html#pref_voting.profiles.Profile" title="pref_voting.profiles.Profile">Profile</a></p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pref_voting.generate_profiles</span> <span class="kn">import</span> <span class="n">generate_profile</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># default is probmod is IC</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;IAC&quot;</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;URN-0.3&quot;</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;MALLOWS-R&quot;</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;MALLOWS-RELPHI-0.375&quot;</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;SinglePeaked&quot;</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>+---+---+---+---+---+---+---+
| 2 | 2 | 1 | 2 | 1 | 1 | 1 |
+---+---+---+---+---+---+---+
| 1 | 2 | 3 | 1 | 0 | 0 | 3 |
| 3 | 3 | 2 | 0 | 2 | 1 | 1 |
| 2 | 0 | 1 | 3 | 1 | 3 | 2 |
| 0 | 1 | 0 | 2 | 3 | 2 | 0 |
+---+---+---+---+---+---+---+
+---+---+---+---+---+---+---+---+---+
| 1 | 1 | 1 | 1 | 1 | 2 | 1 | 1 | 1 |
+---+---+---+---+---+---+---+---+---+
| 2 | 0 | 0 | 2 | 1 | 0 | 2 | 2 | 1 |
| 3 | 3 | 3 | 3 | 0 | 1 | 1 | 1 | 3 |
| 1 | 1 | 2 | 0 | 3 | 2 | 0 | 3 | 2 |
| 0 | 2 | 1 | 1 | 2 | 3 | 3 | 0 | 0 |
+---+---+---+---+---+---+---+---+---+
+---+---+---+---+
| 2 | 3 | 2 | 3 |
+---+---+---+---+
| 0 | 2 | 2 | 3 |
| 2 | 0 | 3 | 2 |
| 1 | 3 | 1 | 0 |
| 3 | 1 | 0 | 1 |
+---+---+---+---+
+---+---+---+---+---+---+---+---+
| 1 | 3 | 1 | 1 | 1 | 1 | 1 | 1 |
+---+---+---+---+---+---+---+---+
| 3 | 0 | 1 | 2 | 0 | 0 | 0 | 0 |
| 2 | 1 | 0 | 0 | 3 | 1 | 2 | 2 |
| 0 | 2 | 2 | 1 | 2 | 3 | 1 | 3 |
| 1 | 3 | 3 | 3 | 1 | 2 | 3 | 1 |
+---+---+---+---+---+---+---+---+
+---+---+---+---+---+
| 1 | 5 | 1 | 2 | 1 |
+---+---+---+---+---+
| 0 | 2 | 0 | 1 | 0 |
| 2 | 1 | 2 | 2 | 3 |
| 1 | 0 | 3 | 0 | 2 |
| 3 | 3 | 1 | 3 | 1 |
+---+---+---+---+---+
+---+---+---+---+---+---+
| 2 | 1 | 2 | 2 | 2 | 1 |
+---+---+---+---+---+---+
| 2 | 1 | 3 | 1 | 0 | 1 |
| 3 | 0 | 2 | 2 | 1 | 2 |
| 1 | 2 | 1 | 0 | 2 | 3 |
| 0 | 3 | 0 | 3 | 3 | 0 |
+---+---+---+---+---+---+
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Possible Values of probmod</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<ul class="simple">
<li><p>“IC” (Impartial Culture);</p></li>
<li><p>“IAC” (Impartial Anonymous Culture);</p></li>
<li><p>“URN-10” (URN model with <span class="math notranslate nohighlight">\(\alpha=10\)</span>), “URN-0.1”  (URN model with <span class="math notranslate nohighlight">\(\alpha=0.1*num\_cands!\)</span>), “URN-0.3” (URN model with <span class="math notranslate nohighlight">\(\alpha=0.3*num\_cands!\)</span>), “URN-R” (URN model with randomly chosen <span class="math notranslate nohighlight">\(\alpha\)</span>);</p></li>
<li><p>“MALLOWS-0.8” (Mallows model with <span class="math notranslate nohighlight">\(\phi=0.8\)</span>), “MALLOWS-0.2” (Mallows model with <span class="math notranslate nohighlight">\(\phi=0.2\)</span>), “MALLOWS-R” (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> randomly chosen between 0 and 1);</p></li>
<li><p>“MALLOWS-RELPHI-0.4” (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and the relphi value of 0.4), “MALLOWS-RELPHI-0.375” (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and the relphi value of 0.375), “MALLOWS-RELPHI-0” (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and the relphi value of 0),  “MALLOWS-RELPHI-1” (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and the relphi value of 1), (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and the relphi value randomly chosen based on the number of candidates), “MALLOWS-RELPHI-R2” (Mallows model with <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and the relphi value randomly chosen), “MALLOWS_2REF-0.8” (Mallows model with 2 reference rankings and <span class="math notranslate nohighlight">\(\phi = 0.8\)</span>),</p></li>
<li><p>“MALLOWS_2REF-RELPHI-R”: (Mallows model with 2 reference rankings and <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and a randomly chosen relphi value based on the number of candidates), “MALLOWS_2REF-RELPHI-R2”(Mallows model with 2 reference rankings and <span class="math notranslate nohighlight">\(\phi\)</span> defined from <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> and a randomly chosen relphi value); and</p></li>
<li><p>“SinglePeaked” (Single Peaked)</p></li>
</ul>
<p>In addition, you can customize the probability model used to generate a profile as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">probmod</span></code> is “URN” and <code class="docutils literal notranslate"><span class="pre">probmod_param</span></code> is either a number or a function <span class="math notranslate nohighlight">\(f\)</span> and the parameter is defined by applying <span class="math notranslate nohighlight">\(f\)</span> to the number of candidates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">probmod</span></code> is “MALLOWS” and <code class="docutils literal notranslate"><span class="pre">probmod_param</span></code> is either a number or a function <span class="math notranslate nohighlight">\(f\)</span> and the parameter is defined by applying <span class="math notranslate nohighlight">\(f\)</span> to the number of candidates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">probmod</span></code> is “MALLOWS_2REF” and <code class="docutils literal notranslate"><span class="pre">probmod_param</span></code> is either a number or a function <span class="math notranslate nohighlight">\(f\)</span> and the parameter is defined by applying <span class="math notranslate nohighlight">\(f\)</span> to the number of candidates.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">pref_voting.generate_profiles</span> <span class="kn">import</span> <span class="n">generate_profile</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;URN&quot;</span><span class="p">,</span> <span class="n">probmod_param</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;MALLOWS&quot;</span><span class="p">,</span> <span class="n">probmod_param</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;MALLOWS_2REF&quot;</span><span class="p">,</span> <span class="n">probmod_param</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_profile</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">probmod</span><span class="o">=</span><span class="s2">&quot;URN&quot;</span><span class="p">,</span> <span class="n">probmod_param</span><span class="o">=</span><span class="k">lambda</span> <span class="n">nc</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">factorial</span><span class="p">(</span><span class="n">nc</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>+---+---+---+---+
| 1 | 2 | 5 | 2 |
+---+---+---+---+
| 3 | 2 | 2 | 1 |
| 1 | 3 | 3 | 2 |
| 0 | 1 | 0 | 3 |
| 2 | 0 | 1 | 0 |
+---+---+---+---+
+---+---+---+---+---+
| 5 | 2 | 1 | 1 | 1 |
+---+---+---+---+---+
| 1 | 1 | 1 | 0 | 1 |
| 2 | 3 | 2 | 1 | 3 |
| 3 | 0 | 0 | 3 | 2 |
| 0 | 2 | 3 | 2 | 0 |
+---+---+---+---+---+
+---+---+---+---+---+---+
| 2 | 3 | 2 | 1 | 1 | 1 |
+---+---+---+---+---+---+
| 1 | 1 | 3 | 1 | 0 | 3 |
| 2 | 0 | 2 | 0 | 3 | 0 |
| 0 | 2 | 0 | 3 | 1 | 1 |
| 3 | 3 | 1 | 2 | 2 | 2 |
+---+---+---+---+---+---+
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="generate-a-truncated-profilewithties">
<h2>Generate a Truncated ProfileWithTies<a class="headerlink" href="#generate-a-truncated-profilewithties" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pref_voting.generate_profiles.generate_truncated_profile">
<span class="sig-prename descclassname"><span class="pre">pref_voting.generate_profiles.</span></span><span class="sig-name descname"><span class="pre">generate_truncated_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_cands</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_voters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_ranked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pref_voting/generate_profiles.html#generate_truncated_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pref_voting.generate_profiles.generate_truncated_profile" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a <code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileWithTies</span></code> with <code class="docutils literal notranslate"><span class="pre">num_cands</span></code> candidates and <code class="docutils literal notranslate"><span class="pre">num_voters</span></code>.
<a href="#id1"><span class="problematic" id="id2">`</span></a>The ballots will be truncated linear orders of the candidates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_cands</strong> (<em>int</em>) – The number of candidates to include in the profile.</p></li>
<li><p><strong>num_voters</strong> (<em>int</em>) – The number of voters to include in the profile.</p></li>
<li><p><strong>max_num_ranked</strong> (<em>int</em><em>, </em><em>default=3</em>) – The maximum level to truncate the linear ranking. Each generated ranking will be truncated at a level that is randomly chosen between 1 and max_num_ranked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ProfileWithTies</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pref_voting.generate_profiles</span> <span class="kn">import</span> <span class="n">generate_truncated_profile</span>

<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_truncated_profile</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">prof</span> <span class="o">=</span> <span class="n">generate_truncated_profile</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">max_num_ranked</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">prof</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>+---+---+---+---+---+---+---+
| 1 | 1 | 1 | 1 | 1 | 1 | 1 |
+---+---+---+---+---+---+---+
| 1 | 4 | 4 | 5 | 3 | 5 | 2 |
| 0 |   | 3 | 0 | 0 |   | 3 |
| 4 |   | 0 |   | 4 |   |   |
|   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |
|   |   |   |   |   |   |   |
+---+---+---+---+---+---+---+
+---+---+---+---+---+---+---+
| 1 | 1 | 1 | 1 | 1 | 1 | 1 |
+---+---+---+---+---+---+---+
| 4 | 0 | 0 | 2 | 1 | 2 | 0 |
| 5 | 2 | 2 | 4 | 2 | 5 |   |
| 1 |   |   | 0 | 3 | 3 |   |
|   |   |   | 5 |   | 0 |   |
|   |   |   | 3 |   | 4 |   |
|   |   |   | 1 |   | 1 |   |
+---+---+---+---+---+---+---+
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="generate_weighted_majority_graphs.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Generate Weighted Majority Graphs</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="margin_graphs.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">(Weighted) Majority Graphs</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Eric Pacuit and Wes Holliday
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Generate Profiles</a><ul>
<li><a class="reference internal" href="#generate-a-profile">Generate a Profile</a></li>
<li><a class="reference internal" href="#generate-a-truncated-profilewithties">Generate a Truncated ProfileWithTies</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    </body>
</html>